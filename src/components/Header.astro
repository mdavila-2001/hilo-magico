---
import { Icon } from 'astro-icon/components';

const menuItems = [
  { texto: 'Inicio', url: '/' },
  { texto: 'Productos', url: '/productos' },
  { texto: 'Servicios', url: '/servicios' },
  { texto: 'Contacto', url: '/contacto' }
];
---

<header class="header">
  <div class="container">
    <div class="header__content">
      <div class="header__logo">
        <img src="/img/hilo-magico-banner.jpg" alt="Logo Hilo Mágico" width="180" height="auto" />
      </div>

      <button class="header__menu-toggle" aria-label="Abrir menú" id="menuToggle">
        <Icon name="mdi:menu" class="header__menu-icon" />
      </button>

      <nav class="header__nav" id="mainNav">
        <ul class="header__menu">
          {menuItems.map(item => (
            <li class="header__menu-item">
              <a href={item.url} class="header__menu-link">{item.texto}</a>
            </li>
          ))}
        </ul>
        <div class="header__actions">
          <a href="/login" class="header__action-link">
            <Icon name="mdi:account" />
            <span>Iniciar sesión</span>
          </a>
          <a href="/carrito" class="header__action-link">
            <Icon name="mdi:cart" />
            <span>Carrito</span>
          </a>
        </div>
      </nav>
    </div>
  </div>
</header>

<script>
  const menuToggle = document.getElementById('menuToggle');
  const mainNav = document.getElementById('mainNav');

  menuToggle?.addEventListener('click', () => {
    mainNav?.classList.toggle('header__nav--active');
    menuToggle.setAttribute(
      'aria-label',
      mainNav?.classList.contains('header__nav--active') ? 'Cerrar menú' : 'Abrir menú'
    );
  });
</script>

<style lang="scss">
  @use '../styles/components/header.scss';
</style>