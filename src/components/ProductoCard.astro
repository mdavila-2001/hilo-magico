---
// src/components/ProductoCard.astro
// @ts-nocheck

import AddToCartButton from './AddToCartButton';

interface Producto {
  id: string;
  nombre: string;
  descripcion: string;
  precio: number;
  imagen: string;
  categoria: string;
  talla?: string;
  color?: string;
  [key: string]: any; // Para permitir propiedades adicionales
}

const { producto } = Astro.props as { producto: Producto };

// FunciÃ³n para formatear el precio
const formatearPrecio = (precio: number): string => {
  return `Bs. ${precio.toFixed(2)}`;
};
---

<article class="producto">
  <div class="producto__imagen-contenedor">
    <img 
      src={producto.imagen} 
      alt={producto.nombre} 
      class="producto__imagen"
      width="300"
      height="200"
      loading="lazy"
    />
    <div class="producto__categoria">{producto.categoria}</div>
    <div class="producto__carrito-contenedor">
      <AddToCartButton producto={producto} client:load />
    </div>
  </div>
  
  <div class="producto__info">
    <h3 class="producto__nombre">{producto.nombre}</h3>
    <p class="producto__descripcion">{producto.descripcion}</p>
    <div class="producto__precio">{formatearPrecio(producto.precio)}</div>
  </div>
</article>
